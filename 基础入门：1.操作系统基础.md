# 操作系统基础  

*编辑人：coffee	编辑日期：2024年9月13日*  

---

## 一、操作系统简介  

### 1.1 操作系统的定义  

操作系统是管理计算机硬件与软件资源的计算机程序。操作系统需要处理如**管理与配置内存**、**决定系统资源供需的优先次序**、**控制输入设备与输出设备**、**操作网络与管理文件系统**等基本事务。操作系统也提供一个让用户与系统交互的**操作界面**。  

- 操作系统是用户和计算机之间的接口。
- 操作系统负责管理计算机系统的全部硬件资源和控制软件的执行。
- 改善人机界面。

### 1.2 操作系统的功能  

操作系统的主要功能包括：**处理器管理、存储器管理、设备管理、文件管理、作业管理**  

**处理器管理**  

处理器管理的主要任务，是对处理器资源进行分配，并对其运行进行控制和管理。处理器资源的分配和运行都是以进程为基本单位，对处理器的管理可以归结为进程的管理。包括：

1. 进程控制：对正在运行的进程进行资源控制和管理。
2. 进程同步：相互协作的进程之间有共享的数据，这时会出现进程并发执行，进程同步需要确保这些进程并发执行。
3. 进程通信：进程通信就是在进程之间传输数据。
4. 进程调度：在多道程序运行时，每个程序都需要一个处理器，操作系统动态地把处理机分配给某一个进程，以使之执行。

**存储器管理**  

存储器管理的主要任务，是为多道程序的运行提供良好的环境，方便用户使用存储器，提高存储器的利用率，以及能从逻辑上扩充内存。存储器管理的功能有：  

1. 内存分配：程序在执行的过程中分配内存的方法。
2. 内存保护：保护操作系统不受用户进程影响，保护用户进程不受别的进程影响。
3. 内存扩充。

**设备管理**  

设备管理的主要任务，是完成用户提出的I/O请求，为用户分类I/O设备，提高CPU和I/O设备的利用率，提高I/O速度，以及方便用户使用I/O设备。其功能有：  

1. 缓冲管理：提高CPU和I/O设备利用率，保证CPU和I/O设备的并行性。I/O设备在与处理机交换数据时都用了缓冲区。缓冲管理的主要职责是组织好这些缓冲区，并提供获得和释放缓冲区的手段。
2. 设备分配：设操作系统连接两个音频输出设备：耳机和音响。这时我们用网易云播放音乐选择什么设备。
3. 虚拟设备：假设现在我们在网页上播放音乐，同时在网易云APP播放音乐，但是音响只有一个，这是操作系统就会把一个音响虚拟成两个，来同时播放。

**文件管理**  

文件管理的主要任务就是对用户文件和系统文件进行管理，以方便用户使用，并且保证文件的安全性。因此，文件管理应该具有对文件储存空间的管理功能，文件的读写管理，目录管理以及文件的共享与保护等功能。

**作业管理**  

作业管理的主要任务就是为用户提供一个使用系统的良好环境，使用户能够有效地组织自己的工作流程，并且使整个系统高效的运行。  

### 1.3 操作系统的分类  

根据应用领域划分：

- 桌面操作系统  
- 服务器操作系统  
- 嵌入式操作系统  

根据所支持的用户数目：

- 单用户操作系统：MSDOS、OS/2  
- 多用户操作系统：UNIX、Linux、Windows  

根据源代码开放程度：

- 开源：Linux、FreeBSD  
- 闭源：Windows、Mac OS  

### 1.4 操作系统的代表  

#### 1.4.1 **Windows** 

Microsoft Windows,是美国微软公司研发的一套操作系统，它问世于1985年，起初仅仅是Microsoft-DOS模拟环境，其后续版本逐渐发展成为主要以个人电脑和服务器用户设计的操作系统，并最终获得了世界个人电脑操作系统的垄断地位。此操作系统可以在几种不同类型的平台上运行，如个人电脑（PC）、移动设备、服务器（Server）和嵌入式系统等等，其中在个人电脑的领域应用内最为普遍。Windows采用了图形化模式GUI（Graphic User Interface），比起从前的DOS需要键入指令使用的方式更为人性化。  

服务器操作系统与个人操作系统的区别：

- 性能稳定性：服务器要比个人用户操作系统要高得多
- 文件管理与网络应用：服务器能更好的发挥功效
- 图形及娱乐：个人用户操作系统要比服务器有着更好的功效
- 服务器操作系统的安全性及可协调性要比个人用户操作系统高
- 服务器版操作系统包含服务器端专用的功能和管理工具，对安全和稳定性方面也有更严格的要求，相对来说速度上就慢了些。同时服务器版还会支持特殊的硬件
- 普通用户的系统没有专业的功能，也没有必要，反之会加入面向个人用户媒体管理的软件和功能

**Windows简易架构**  

![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/25c249ad4ff392c1652a0babe5b416d3.png#pic_center)

用户模式：  

- 系统支持进程，比如登陆进程和Session管理器，它们都不是Windows服务（不是通过SCM即服务控制管理器启动的）。  
- 服务进程，比如任务调度器和打印机服务，这些服务一般都需要用户登陆才可以运行。很多服务应用程序，比如sql server和exchange server都以服务的方式运行。  
- 用户程序，可以是Windows32位或64位，Windows3.1 16位，MS-DOS 16位，或者POSIX 32位或64位，注意16位程序只能运行在32位系统上。  
- 环境子系统服务器进程，实现了部分支持操作系统的环境，也可以说是展现给用户或者开发者的个性化界面。Windows NT最初发布时带有Windows，POSIX，OS/2三个子系统，Windows 2000是最后带有POSIX和OS/2的子系统，旗舰版和企业版的Windows也支持一个加强版的POSIX子系统，叫做SUA（基于UNIX的应用）。  

内核模式：  

- Windows执行实体，包括基础系统服务，比如内存管理器，进程和线程管理器，安全管理，I/O管理，网络，进程间通信。  
- Windows内核，包括底层系统函数，比如线程调度，中断，异常分发，多核同步。也提供了一些routine和实现高层结构的基础对象。  
- 设备驱动，包括硬件设备驱动（翻译用户I/O到硬件I/O），软件驱动（例如文件和网络驱动）。  
- 硬件抽象层，独立于内核的一层代码，将设备驱动与平台的差异性分离开。  
- 窗口和图形系统，实现了GUI函数，处理用户接口和绘图。  

#### 1.4.2 **Linux**  

**系统架构**  

Linux系统一般有4个主要部分：内核、shell、文件系统和应用程序。  

Linux内核：内核是操作系统的核心，具有很多最基本功能，它负责管理系统的进程、内存、设备驱动程序、文件和网络系统，决定着系统的性能和稳定性。Linux 内核由如下几部分组成：内存管理、进程管理、设备驱动程序、文件系统和网络管理等。  

Linux Shell：shell是系统的用户界面，提供了用户与内核进行交互操作的一种接口。它接收用户输入的命令并把它送入内核去执行，是一个命令解释器。另外，shell编程语言具有普通编程语言的很多特点，用这种编程语言编写的shell程序与其他应用程序具有同样的效果。  

Linux文件系统：文件系统是文件存放在磁盘等存储设备上的组织方法。Linux系统能支持多种目前流行的文件系统，如EXT2、 EXT3、 FAT、 FAT32、 VFAT和ISO9660。  

Linux应用：标准的Linux系统一般都有一套都有称为应用程序的程序集，它包括文本编辑器、编程语言、X Window、办公套件、Internet工具和数据库等。

Linux的基本思想有两点：

1. 一切都是文件：系统中的所有都归结为一个文件，包括：命令、硬件和软件设备、操作系统、进程等等，对于操作系统内核而言，都被视为拥有各自特性或类型的文件。至于说Linux是基于Unix的，很大程度上也是因为这两者的基本思想十分相近。  
2. 每个软件都有确定的用途。

**Kali**  

Kali 是一个基于 Debian 的 Linux 发行版。它的目标就是为了在一个实用的工具包里尽可能多的包含渗透和审计工具。Kali 实现了这个目标。大多数做安全测试的开源工具都被囊括在内。总的来说，Kali是一个网络安全的工具箱。